
policyApp.factory('RulesEngineService',['$http','$q',function($http,$q){var factory={};factory.getAllData=function(url){var deferred=$q.defer();$http({method:'get',url:'/rule-engine-ldap-api-web/'+url,headers:{'Api-Key':'RTM','Accept':'application/json;v=3','Content-Type':'application/json;v=3'}}).success(function(data){deferred.resolve(data);}).error(function(data){deferred.reject(data);});return deferred.promise;};factory.postAllData=function(elements,url){var deferred=$q.defer();$http({method:'post',url:'/rule-engine-ldap-api-web/'+url,headers:{'Api-Key':'RTM','Accept':'application/json;v=3','Content-Type':'application/json;v=3'},data:elements}).success(function(data){deferred.resolve(data);}).error(function(data){deferred.reject(data);});return deferred.promise;};factory.deleteAllData=function(url){var deferred=$q.defer();$http({method:'delete',url:'/rule-engine-ldap-api-web/'+url,headers:{'Api-Key':'RTM','Accept':'application/json;v=3','Content-Type':'application/json;v=3'}}).success(function(data){deferred.resolve(data);}).error(function(data){deferred.reject(data);});return deferred.promise;};factory.putAllData=function(url){var deferred=$q.defer();$http({method:'put',url:'/rule-engine-ldap-api-web/'+url,headers:{'Api-Key':'RTM','Accept':'application/json;v=3','Content-Type':'application/json;v=3'}}).success(function(data){deferred.resolve(data);}).error(function(data){deferred.reject(data);});return deferred.promise;};factory.getUniqueId=function(type,excludeDraft){var _getRandomInt=function(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
var length=6;var timestamp=+new Date;var ts=timestamp.toString();var parts=ts.split("").reverse();var id="";for(var i=0;i<length;++i){var index=_getRandomInt(0,parts.length-1);id+=parts[index];}
if(excludeDraft){return type+"-"+id;}
return type+"-"+id;};return factory;}]);